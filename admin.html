<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>DADAM ENC ê´€ë¦¬ì</title>
<style>
*{font-family:Pretendard,'Noto Sans KR',sans-serif}
body{background:#f4f6f8;padding:30px}
.section{background:#fff;border-radius:14px;padding:22px;margin-bottom:28px}
input,select,textarea,button{padding:10px;margin:6px;width:100%}
.row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.item{background:#eef1f4;border-radius:10px;padding:10px;margin-top:8px;display:flex;justify-content:space-between}
.fixed-save{position:fixed;right:30px;bottom:30px;padding:16px 24px;font-size:16px}
</style>
</head>
<body>

<h1>DADAM ENC ê´€ë¦¬ì í˜ì´ì§€</h1>

<div class="section">
<h2>ì¶œì¥ Â· ì™¸ê·¼ Â· ì—°ì°¨</h2>
<div class="row">
<input id="nameInput" placeholder="ì´ë¦„">
<select id="department">
<option>ê²½ì˜ë¶€</option><option>ê²½ì˜ì§€ì›ë¶€</option><option>R&Dì—°êµ¬ì†Œ</option><option>ê¸°ìˆ ì˜ì—…ë¶€</option><option>ê³µì‚¬ì§€ì›ë¶€</option>
</select>
<select id="status">
<option value="ì¶œì¥">ì¶œì¥</option>
<option value="ì™¸ê·¼">ì™¸ê·¼</option>
<option value="ì—°ì°¨">ì—°ì°¨</option>
</select>
<input id="task" placeholder="ì—…ë¬´ ë‚´ìš©">
</div>
<button onclick="addTravel()">ì¶”ê°€</button>
<div id="travelTemp"></div>
</div>

<div class="section">
<h2>ì—…ë¬´ ì¼ì •</h2>
<input type="date" id="date">
<input id="title" placeholder="ì¼ì • ì œëª©">
<textarea id="detail" placeholder="ìƒì„¸ ë‚´ìš©"></textarea>
<button onclick="addSchedule()">ì¶”ê°€</button>
<div id="scheduleTemp"></div>
</div>

<div class="section">
<h2>ì‚¬ë‚´ ê³µì§€ì‚¬í•­</h2>
<textarea id="noticeText" rows="4"></textarea>
</div>

<button class="fixed-save" onclick="saveAll()">ğŸ’¾ ìµœì¢… ì €ì¥</button>
<button onclick="location.href='index.html'">ì‚¬ì´ë‹ˆì§€ë¡œ ëŒì•„ê°€ê¸°</button>

<script>
let travel=[],schedule=[];
function color(s){return s==="ì¶œì¥"?"green":s==="ì™¸ê·¼"?"yellow":"red";}

function addTravel(){
  travel.push({
    name:document.getElementById("nameInput").value,
    department:document.getElementById("department").value,
    task:document.getElementById("task").value,
    statusColor:color(document.getElementById("status").value)
  });
  render();
}

function addSchedule(){
  schedule.push({
    date:document.getElementById("date").value,
    title:document.getElementById("title").value,
    detail:document.getElementById("detail").value
  });
  render();
}

function render(){
  travelTemp.innerHTML="";
  travel.forEach((t,i)=>{
    travelTemp.innerHTML+=`<div class="item">${t.name} (${t.department}) - ${t.task}<button onclick="travel.splice(${i},1);render()">ì‚­ì œ</button></div>`;
  });
  scheduleTemp.innerHTML="";
  schedule.forEach((s,i)=>{
    scheduleTemp.innerHTML+=`<div class="item">${s.date} - ${s.title}<button onclick="schedule.splice(${i},1);render()">ì‚­ì œ</button></div>`;
  });
}

function saveAll(){
  localStorage.setItem("travel",JSON.stringify(travel));
  localStorage.setItem("schedule",JSON.stringify(schedule));
  localStorage.setItem("notice",document.getElementById("noticeText").value);
  alert("ì €ì¥ ì™„ë£Œ");
}

(function load(){
  travel=JSON.parse(localStorage.getItem("travel")||"[]");
  schedule=JSON.parse(localStorage.getItem("schedule")||"[]");
  noticeText.value=localStorage.getItem("notice")||"";
  render();
})();
</script>
</body>
</html>
