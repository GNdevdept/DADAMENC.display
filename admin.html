<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì‚¬ë‚´ ì‚¬ì´ë‹ˆì§€ ê´€ë¦¬ì</title>
<style>
body{font-family:Pretendard,'Noto Sans KR',sans-serif;background:#f4f6f8;padding:30px}
.section{background:#fff;border-radius:14px;padding:22px;margin-bottom:30px}
input,select,button{padding:10px;margin:6px}
.item{background:#eef1f4;border-radius:10px;padding:10px;margin-top:8px;display:flex;justify-content:space-between}
.fixed-save{position:fixed;right:30px;bottom:30px;padding:16px 24px;font-size:16px}
</style>
</head>
<body>

<h1>ì‚¬ë‚´ ì‚¬ì´ë‹ˆì§€ ê´€ë¦¬ì í˜ì´ì§€</h1>

<div class="section">
<h2>ì¶œì¥ Â· ì™¸ê·¼ Â· ì—°ì°¨ ê´€ë¦¬</h2>
<input id="name" placeholder="ì´ë¦„">
<input id="team" placeholder="ë¶€ì„œ">
<select id="status">
<option value="ì¶œì¥">ì¶œì¥</option>
<option value="ì™¸ê·¼">ì™¸ê·¼</option>
<option value="ì—°ì°¨">ì—°ì°¨</option>
</select>
<input id="desc" placeholder="ë‚´ìš©">
<button onclick="addTravel()">ì¶”ê°€</button>
<div id="travelTemp"></div>
</div>

<div class="section">
<h2>ì—…ë¬´ ì¼ì • ê´€ë¦¬</h2>
<input type="date" id="date">
<input id="title" placeholder="ì œëª©">
<input id="sdesc" placeholder="ì„¤ëª…">
<button onclick="addSchedule()">ì¶”ê°€</button>
<div id="scheduleTemp"></div>
</div>

<button class="fixed-save" onclick="finalSave()">ğŸ’¾ ìµœì¢… ì €ì¥</button>
<button onclick="location.href='index.html'">í”Œë ˆì´ì–´ë¡œ ëŒì•„ê°€ê¸°</button>

<script>
let travel=[], schedule=[];

function colorMap(s){return s==="ì¶œì¥"?"green":s==="ì™¸ê·¼"?"yellow":"red";}

function addTravel(){
  travel.push({name:name.value,team:team.value,desc:desc.value,color:colorMap(status.value)});
  render();
}

function addSchedule(){
  schedule.push({date:date.value,title:title.value,desc:sdesc.value});
  render();
}

function render(){
  travelTemp.innerHTML="";
  travel.forEach((p,i)=>{
    travelTemp.innerHTML+=`<div class="item">${p.name} (${p.team}) - ${p.desc}<button onclick="travel.splice(${i},1);render()">ì‚­ì œ</button></div>`;
  });
  scheduleTemp.innerHTML="";
  schedule.forEach((s,i)=>{
    scheduleTemp.innerHTML+=`<div class="item">${s.date} ${s.title}<button onclick="schedule.splice(${i},1);render()">ì‚­ì œ</button></div>`;
  });
}

function finalSave(){
  localStorage.setItem("travel",JSON.stringify(travel));
  localStorage.setItem("schedule",JSON.stringify(schedule));
  alert("ìµœì¢… ì €ì¥ ì™„ë£Œ");
}

(function loadExisting(){
  travel=JSON.parse(localStorage.getItem("travel")||"[]");
  schedule=JSON.parse(localStorage.getItem("schedule")||"[]");
  render();
})();
</script>
</body>
</html>
